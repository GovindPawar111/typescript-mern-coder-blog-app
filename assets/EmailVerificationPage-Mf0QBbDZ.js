import{z as o,C as x,a as g,j as e,B as h,i as p,T as a,d as y}from"./index-URDWOw5y.js";import{u as b,t as j}from"./zod-wQOMx4mP.js";const v=o.object({verificationToken:o.string().length(6,{message:"Verification code must be 6 digits."}).regex(/^\d{6}$/,{message:"Code must be numeric."})}),N=()=>{const{createNotification:s}=y(),{mutate:r}=x(),n=g(),{register:l,handleSubmit:c,formState:{errors:t},setError:m}=b({defaultValues:{},resolver:j(v)}),u=async({verificationToken:d})=>{r({verificationToken:d},{onSuccess(){s("Successfully verified your email, you can now log in",a.Success),n("/login")},onError:f=>{var i;m("root",{message:((i=f.response)==null?void 0:i.data.message)||"Something went wrong, please try after sometime."}),s("Verification Failed, Please validate your entered code.",a.Error)}})};return e.jsx("section",{className:"w-full flex justify-center items-center h-[70vh] bg-white",children:e.jsxs("div",{className:"flex  flex-col justify-center items-center  w-[60%] sm:w-[400px]",children:[e.jsx("h1",{className:"text-xl font-bold text-left",children:"Verify your email"}),e.jsx("p",{children:"Enter the 6-digit code sent to your email address."}),e.jsxs("form",{noValidate:!0,onSubmit:c(u),className:"flex flex-col w-full",children:[e.jsx("input",{placeholder:"Enter your code",className:"w-full px-4 py-2 border-2 border-black outline-0 mt-4",...l("verificationToken"),maxLength:6,pattern:"\\d*",autoFocus:!0}),t.verificationToken&&e.jsx("label",{htmlFor:"verificationToken",className:"text-red-500 text-xs",children:t.verificationToken.message}),e.jsx(h,{label:"Submit",type:"submit",className:"w-full py-3 text-lg font-bold rounded-lg hover:bg-gray-500 hover:text-black mt-4"})]}),t.root&&e.jsx("p",{className:"text-red-600 text-xs mt-2",children:t.root.message}),e.jsxs("div",{className:"flex justify-center items-center space-x-2 mt-2",children:[e.jsx("p",{children:"Already have an account?"}),e.jsx("p",{className:"text-gray-500 hover:text-black hover:underline",children:e.jsx(p,{to:"/login",children:"Log in"})})]})]})})},k=N;export{k as Component,N as default};
